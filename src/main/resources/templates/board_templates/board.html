<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="/css/my_css/board.css" rel="stylesheet">
  <th:block th:include="/commons/fragments :: commons_head"></th:block>
    <title>게시판</title>
</head>
<body>
  <th:block th:replace="/commons/fragments :: commons_nav" />

<!--  </section>-->
<!--content table end -->
  <!--pagination wrapper start -->
  <div id="content_div" class="container" >
    <table class="table table-responsive-sm">
      <thead>
      <tr>
        <th scope="col" class="text-center">#</th>
        <th scope="col">제목</th>
        <th scope="col">작성자</th>
        <th scope="col">작성일</th>
        <th scope="col" class="text-center">조회수</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="board : ${boardList}">
        <td th:text="${board.no}" class="text-center"></td>
        <td><a th:text="${board.title}"
               th:href="@{/board/{boardNo}(boardNo=${board.no}, nowPage=${pageInfo.nowPage}) }"></a> </td>
        <td th:text="${board.writer}"></td>
        <td th:text="${#temporals.format(board.regDate, 'yyy-MM-dd')}"></td>
        <td th:text="${board.views}" class="text-center"></td>
      </tr>


      </tbody>
    </table>

    <!-- 페이지네이션 -->
    <nav aria-label="Page" class="pagination-wrapper">
      <ul class="pagination">
        <li th:if="${pageInfo.prevPage}" class="page-item"><a class="page-link" th:href="@{/board(page=${pageInfo.nowPage - 1})}">Prev</a></li>

        <li th:each="num : ${#numbers.sequence(pageInfo.startPage, pageInfo.endPage)}" class="page-item" th:classappend="${pageInfo.nowPage==num} ? active">
          <a class="page-link" th:href="@{/board(page=${numStat.current})}" th:text="${numStat.current}"></a>
        </li>

        <li th:if="${pageInfo.nextPage}" class="page-item"><a class="page-link" th:href="@{/board(page=${pageInfo.nowPage + 1})}">Next</a></li>
      </ul>
    </nav>



    <!-- 검색 -->
    <form method="post" action="/board/search">
    <div class="input-group d-flex">
      <div class="input-group-prepend">
        <select class="form-control form-control-sm w-50" name="target">
          <option value="all">전체</option>
          <option value="title">제목</option>
          <option value="content">내용</option>
          <option value="writer">글쓴이</option>
        </select>
        <input type="text" class="form-control form-control-sm " name="keyword" value="">
      </div>
      <div>
        <button class="btn btn-info btn-sm" type="submit">검색</button>
      </div>
      <div class="ml-auto">
        <a href="/board/write" class="genric-btn primary">글작성</a>
      </div>

  </div>
  </form>


  <footer th:replace="/commons/fragments :: commons_footer"></footer>
  <th:block th:include="/commons/fragments :: commons_jquery_pluginis"></th:block>

</body>
</html>